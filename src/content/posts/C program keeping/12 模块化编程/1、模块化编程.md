# [C语言模块化编程](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/10.4.duo.c.h?id=c%e8%af%ad%e8%a8%80%e6%a8%a1%e5%9d%97%e5%8c%96%e7%bc%96%e7%a8%8b)

## [1. 是什么？](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/10.4.duo.c.h?id=_1-%e6%98%af%e4%bb%80%e4%b9%88%ef%bc%9f)

一个项目一般来说都是有多个`.c`多个`.h`组成

## [2. 模块化编程概念](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/10.4.duo.c.h?id=_2-%e6%a8%a1%e5%9d%97%e5%8c%96%e7%bc%96%e7%a8%8b%e6%a6%82%e5%bf%b5)

把功能类似的函数封装到一个文件中，如把加减乘除这类功能函数封装到一个文件中，那么根据不同的功能(如网络访问相关, 加密相关，数据保存相关)就可以有很多个文件，所以模块化编程也叫做多文件开发，也叫多文件 (.c文件)编程，一个 .c 文件和一个 .h 文件可以被称为一个模块

![[_attachments/Pasted image 20250114144328.png]]![[_attachments/Pasted image 20250114144335.png]]

## [3. `.h`文件应用场景](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/10.4.duo.c.h?id=_3-h%e6%96%87%e4%bb%b6%e5%ba%94%e7%94%a8%e5%9c%ba%e6%99%af)

`.h`文件就是头文件，在以下场景中会使用头文件:

1）通过头文件来调用库功能

在很多场合，源代码不便(或不准)向用户公布，只要向用户提供`头文件`和`二进制`的库即可。 用户只需要按照头文件中的接口声明来调用库功能，而不必关心接口怎么实现的

2）多文件编译

将稍大的项目分成几个文件实现，通过头文件将其他文件的函数声明引入到当前文件

3）头文件能加强类型安全检查

如果某个接口被实现或被使用时，其方式与头文件中的声明不一致，编译器就会指出错误，这 一简单的规则能大大减轻程序员调试、改错的负担

#### [模块化编程的好处:](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/10.4.duo.c.h?id=%e6%a8%a1%e5%9d%97%e5%8c%96%e7%bc%96%e7%a8%8b%e7%9a%84%e5%a5%bd%e5%a4%84)

- 用的时候只要包含`.h`文件，对外隐藏函数的内部实现
- 利于团队分工协作
- 可以把功能细化分为若干模块

## [4. 注意](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/10.4.duo.c.h?id=_4-%e6%b3%a8%e6%84%8f)

多文件开发的注意事项，关于头文件的内容，初学者还必须注意:

1）头文件中可以和C程序一样引用其它头文件，可以写预处理块，但不要写具体的语句

2）可以声明函数，但是不可以定义函数

3）可以声明常量，但是不可以定义变量

4）可以“定义”一个宏函数

5）结构的定义、自定义数据类型一般也放在头文件中

6）多文件编程时，只能有一个文件包含 `main()` 函数，因为一个工程只能有 一个入口函数，我们把包含 `main()` 函数的文件称为主文件

7）为了更好的组织各个文件，一般情况下一个 `.c` 文件对应一个 `.h` 文件, 并且文件名要相同，例如 `fun.c` 和 `fun.h`

8）头文件要遵守幂等性原则，即可以多次包含相同的头文件，但效果与只包含一次相同

9）防止重复包含的措施
