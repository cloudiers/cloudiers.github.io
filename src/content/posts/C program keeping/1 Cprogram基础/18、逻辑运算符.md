### 18.1、是什么？

C语言中提供了 3 种逻辑运算符:

- `&&` 与运算
- `||` 或运算
- `!` 非运算

一般形式: `表达式1 逻辑运算符 表达式2`

例如：`a && b`

逻辑运算的返回值也为“真”和“假”两种，用数字1、数字0 来表示

### 18.2、逻辑运算的值

#### 18.2.1、`与`运算`&&`

参与运算的两个量都为真时，结果才为真，否则为假

例如:

在表格式`5>0 && 4>2` 中，由于`5>0`为真，`4>2`也为真，相与的结果就是真

- 口诀:

> 都是真才是真，只要有一假，即为假
>
> 就好比2个人结婚：你同意 && 你的另外一半同意 这样才能真正结婚 对嘛，哈哈哈

#### 18.2.2、`或`运算`||`

参与运算的两个量只要有一个为真，结果就为真。 两个量都为假时，结果才为假

例如:

在表达式`5>0||5>8` 中，由于`5>0`为真（只要有1个是真就行），所以执行`或||`操作的的结果也就为真

- 口诀:

> 只要有一个为真，即为真
>
> 就好比：你问父母要零花钱，爸爸给钱 || 妈妈给钱，只要有1个人给钱，就拿到钱了!

#### 18.2.3、`非`运算`!`

参与运算量为真时，结果为假；参与运算量为假时，结果为真

简单说：就是黑白颠倒

例如:

在表达式`!(5>0)` 中，`(5>0)的结果是1（只要不是0就是真）`，所以加上`!`其结果就是0（即 假）

- 口诀

> 真变假，假变真

### 18.3、逻辑运算符短路问题

#### 18.2.1、与短路:`&&`

只要第一个条件表达为假那么后面的条件表达就不参与运算了

```c
#include <stdio.h>

int main(int argc, char *argv[]) {
    int a = 1, b = 1;  // 可以尝试修改a的值为-1，再次运行程序看看结果
    int result = a < 0 && (b = b + 1);
    printf("b=%d\n", b);
    return 0;
}
```

![[_attachments/Pasted image 20250113103256.png]]

#### 18.2.2、或短路:`||`

只要第一个条件表达式为真那么后面的条件表达式就不参与运算了

```c
#include <stdio.h>

int main(int argc, char *argv[]) {
    int a = 1, b = 1;  // 可以尝试修改a的值为0，再次运行程序看看结果
    int result = a > 0 || (b = b + 1);
    printf("b=%d\n", b);
    return 0;
}
```

![[_attachments/Pasted image 20250113103308.png]]

- 想一想

执行以下语句后 y 的值为( )

- A. 0
- B. 1
- C. 2
- D.不确定值

```c
#include <stdio.h>

int main(int argc, char *argv[]) {
    int x, y, z;
    x = y = z = 0;
    ++x || ++y && ++z;
    printf("y=%d\n", y);
    return 0;
}
```

![[_attachments/Pasted image 20250113103319.png]]

#### 18.2.3、注意

虽然C编译在给出逻辑运算值时,以`1`代表“真”，`0`代表“假”

但是，反过来在判断一个量是为“真”还是为“假”时，以`0`代表“假”，以`非0`的数值作为“真”

例如:

`5`和`3`均为非`0`，因此`5 && 3`的值为“真”，即为`1`

`5`||`0`的值为“真”，即为`1`

#### 18.2.4、示例

```c
#include <stdio.h>

int main(int argc, char *argv[]) {
    int a = 4, b = 0;
    int result = a && b;
    printf("1 result = %d\n", result);
    result = a > b || a;
    printf("2 result = %d\n", result);
    result = !a;
    printf("3 result = %d\n", result);
    result = !b;
    printf("4 result = %d\n", result);
    result = !(a + b);
    printf("5 result = %d\n", result);
    result = !-1;
    printf("6 result = %d\n", result);
    return 0;
}
```

![[_attachments/Pasted image 20250113103336.png]]
