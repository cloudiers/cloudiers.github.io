## [1. 为什么要操作文件？](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/12.1.file1?id=_1-%e4%b8%ba%e4%bb%80%e4%b9%88%e8%a6%81%e6%93%8d%e4%bd%9c%e6%96%87%e4%bb%b6%ef%bc%9f)

#### [原因1](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/12.1.file1?id=%e5%8e%9f%e5%9b%a01)

我们之前所有的操作都是在计算机内存中，如果要操作大规模的数据，计算机内存是远远不够的，此时需要外部设备来协助存储。此时数据就会以文件的形式组织起来，操作系统用以文件为单位对数据进行管理

#### [原因2](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/12.1.file1?id=%e5%8e%9f%e5%9b%a02)

在内存中的数据都是临时的，即电脑关机后，这些数据都会丢失，存储到文件此时这些数据就会保存到硬盘上，就能达到永久存储的功能

## [2. 对文件的操作步骤](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/12.1.file1?id=_2-%e5%af%b9%e6%96%87%e4%bb%b6%e7%9a%84%e6%93%8d%e4%bd%9c%e6%ad%a5%e9%aa%a4)

要把大象装进冰箱总共分几步?

![[_attachments/Pasted image 20250114144918.png]]

类似把大象装进冰箱的过程一样，操作文件时，也是有一些固定的步骤的

1. 打开文件（或者创建文件）
2. 读、写文件
3. 关闭文件

在C语言中 供了多种文件读写的函数:（含头文件`stdio.h`）

- 字符读写函数 :`fgetc`和`fputc`
- 字符串读写函数:`fgets`和`fputs`
- 数据块读写函数:`freed`和`fwrite`
- 格式化读写函数:`fscanf`和`fprinf`
- 文件末尾检测函数:`feof`

## [3. 文件指针](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/12.1.file1?id=_3-%e6%96%87%e4%bb%b6%e6%8c%87%e9%92%88)

C语言中用一个指针变量指向一个文件，这个指针称为`文件指针`，通 过文件指针就可对它所指的文件进行各种操作

定义文件指针的一般形式为

```
FILE *变量名;
```

其中

- `FILE`为大写，是系统定义的一个结构体，其中含有文件名、文件 状态和文件当前位置等信息,便于对文件的操作

![[_attachments/Pasted image 20250114144925.png]]

- `FILE`的结构体我们做大致了解即可，不同的操作系统以及编译器会有差异

通过设置一个指向 `FILE`类型的变量的指针变量，然后通过它来引用这些`FILE`类型变量信息找到该文件，实施对文件的操作

习惯上也笼统地把`fp`作为文件指针变量的名字，`f`表示`file`，`p`表示指针

![[_attachments/Pasted image 20250114144934.png]]
