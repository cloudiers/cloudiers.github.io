# [fputc、fgetc函数](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/12.3.fputc.fgetc?id=fputc%e3%80%81fgetc%e5%87%bd%e6%95%b0)

## [1. fputc函数](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/12.3.fputc.fgetc?id=_1-fputc%e5%87%bd%e6%95%b0)

```c
#include <stdio.h>

int main() {
    FILE* file = fopen("test.txt", "w");
    if (file != NULL) {
        char ch = 'A';
        int result = fputc(ch, file);
        if (result != EOF) {
            printf("向文件写入字符: %c\n", result);
        } else {
            printf("写入字符时出错\n");
        }
        fclose(file);
    } else {
        printf("创建文件失败...\n");
    }
    return 0;
}
```

## [2. fgetc函数](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/12.3.fputc.fgetc?id=_2-fgetc%e5%87%bd%e6%95%b0)

```c
#include <stdio.h>

int main() {
    FILE* file = fopen("test.txt", "r");
    if (file != NULL) {
        char ch;
        while ((ch = fgetc(file)) != EOF) {
            printf("%c", ch);  // 打印读取的字符
        }
        fclose(file);
    } else {
        printf("不能打开test.txt\n");
    }
    return 0;
}
```

## [3. 练习：复制图片](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/12.3.fputc.fgetc?id=_3-%e7%bb%83%e4%b9%a0%ef%bc%9a%e5%a4%8d%e5%88%b6%e5%9b%be%e7%89%87)

假设有图片，名字是`111.png`，下面的程序会将其复制一份，名字为`222.png`

```c
#include <stdio.h>
#include <string.h>

int main() {

    FILE *fp = fopen("111.png", "rb");
    FILE *fp2 = fopen("222.png", "wb");

    int ch;
    while ((ch = fgetc(fp)) != EOF){
        fputc(ch, fp2);
    }

    fclose(fp2);
    fclose(fp);

    return 0;
}
```
