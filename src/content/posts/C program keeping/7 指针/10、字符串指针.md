### 10.1、2种访问字符串的方式

在`C`语言中，可以用两种方法访问一个字符串

#### 10.1.1、字符数组

![[_attachments/msedge_IRTPAOgYLr.png]]

说明

- `buf`是数组名，它代表字符数组的首字符的地址

#### 10.1.2、字符串指针（指向字符串）

![[_attachments/msedge_rg40QESoD0.png]]

说明

- `p`是一个指针变量，其可以保存一个char`类型`变量的地址

### 10.2、字符型指针与字符串指针的区别

字符型指针 和 字符串指针, 在定义和说明的时候是一样的, 如

```
char c;
char *p = &c;
char *str = "hello world";
```

注意：

1. 使用字符数组来保存的字符串是保存栈里的，保存栈里面东西是可读可写，所以我们可以改变里面的字符。 当把一个字符串常量赋值一个字符数组的时候，那么它会把字符串常量中每一个字符都放到字符数组里面
2. 使用字符串指针来保存字符串，它保存的是字符串常量地址，常量区是只读的，所以我们不可以修改字符串中的字符

### 10.3、分区

当一个C语言程序运行起来后，内存大体分为5部分

1. 堆区：动态申请的内存，例如`malloc`
2. 栈区：函数调用过程时定义的自动申请，例如局部变量
3. 全局、静态区：全局变量，使用`static`修饰的变量
4. 字符常量区：字符串常量
5. 代码区：编写的代码

### 10.4、注意点

#### 10.4.1、可以查看字符串的每一个字符

![[_attachments/msedge_KFX2jpJEwI.png]]

#### 10.4.2、不可以修改字符串内容

![[_attachments/msedge_6DPNMw0j07.png]]

#### 10.4.3、妙用字符串指针

将指针变量指向一个格式字符串，用在`printf`函数中，用于输出数组的各种地址表示的值

```
static int a[] = {0, 1, 2, 3, 4};

// 基本的显示方法为：
printf("%d,%d\n", a[0], a[1]);

// 可以采用的新方法为：
char *PF;
PF="%d,%d\n";
printf(PF, a[0], a[1]);
```

#### 10.4.4、不能够直接接收键盘输入

![[_attachments/msedge_7IpXVYrAR4.png]]

### 10.5、错误原因与解决方式

- 上图代码中`p`未初始化，即此时是一个野指针，它并没有指向某一块合理内存空间，所以不允许

解决上面程序因为野指针的问题造成崩溃的方法有2种：

#### 10.5.1、申请一个块程序可用的内存空间

![[_attachments/msedge_aLVn6gCRGX.png]]

#### 10.5.2、将指针指向一个数组空间

![[_attachments/msedge_AEliWTCdHM.png]]
