## [1. 是什么？](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/8.2.struct?id=_1-%e6%98%af%e4%bb%80%e4%b9%88%ef%bc%9f)

到目前为止，我们已经介绍了基本数据类型(或称简单数据类型)的变量， 也介绍了一种构造类型的数据--数组，数组中的元素是属于同一个类型的

只有这些数据类型是不够的，有时候需要将不同数据类型的数据组合到一起，共同来说明 一个事物，以便用来引用，这些组合到一起的数据都是互相联系的

例如：

一个学生的学号、姓名、性别、年龄、成绩、家庭地址等项

![[_attachments/Pasted image 20250114143528.png]]

可以看到 性别`sex`，年龄`age`，成绩`score`，地址`addr`是属于学号为`10010`和名 为`“Li Fun”`的学生的

如果将这些数据分别定义为互相独立的简单变量，难以反映他们之间的内在联系，所以把他们组织成一个组合项

## [2. 定义结构体](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/8.2.struct?id=_2-%e5%ae%9a%e4%b9%89%e7%bb%93%e6%9e%84%e4%bd%93)

格式：

![[_attachments/Pasted image 20250114143534.png]]

示例：

![[_attachments/Pasted image 20250114143539.png]]

注意：

- 结构体在定义的时候并不会分配内存空间，会在定义结构体变量之后再分配内存空间，也就是说结构体是一种类型而不是1个变量

## [3. 定义结构体变量](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/8.2.struct?id=_3-%e5%ae%9a%e4%b9%89%e7%bb%93%e6%9e%84%e4%bd%93%e5%8f%98%e9%87%8f)

方法1：先定义结构体，再定义结构体变量

![[_attachments/Pasted image 20250114143548.png]]

方法2：定义结构体同时定义结构体变量

![[_attachments/Pasted image 20250114143552.png]]

方法3：匿名结构体定义结构体变量

![[_attachments/Pasted image 20250114143559.png]]

> 第三种方法与第二种方法的区别在于：第三种方法中省去了结构体类型 名，而直接给出结构体变量，这种结构体最大的问题是，不能再次定义新的结构体变量了，因为不知道结构体类型名

## [4. 使用结构体变量](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/8.2.struct?id=_4-%e4%bd%bf%e7%94%a8%e7%bb%93%e6%9e%84%e4%bd%93%e5%8f%98%e9%87%8f)

因为结构体变量就好比是多个数据类型的数据混合而成的，所以要想使用结构体变量的中的数据，就需要访问结构体变量的成员

示例：

![[_attachments/Pasted image 20250114143607.png]]

> 如果成员本身又是一个结构则必须逐级找到最低级的成员才能使用

#### [练习](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/8.2.struct?id=%e7%bb%83%e4%b9%a0)

> 根据上图中定义的结构体类型stu，定义一个结构体变量，然后给这结构体变量的所有成员赋值，最后输出所有的成员信息

```c
//
// Created by wangmingdong on 2023/6/8.
//
#include "stdio.h"
#include "stdlib.h"
#include "string.h"

// 定义结构体类型
struct stu{
    int num;
    char name[20];
    char gender;
    float score;
};

int main() {

    // 定义结构体变量
    struct stu boy;

    // 给结构体变量boy中的成员赋值
    boy.num = 101;
    strcpy(boy.name, "wangmingdong");
    boy.gender = 'm';
    boy.score = 99.5;

    // 打印1个学生的信息
    printf("学号:%d, 姓名：%s, 性别:%c, 分数:%.2f\n", boy.num, boy.name, boy.gender, boy.score);

    return 0;
}

```

运行效果

![[_attachments/Pasted image 20250114143615.png]]
