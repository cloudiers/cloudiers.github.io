## [1. 定义的同时初始化](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/8.3struct.init?id=_1-%e5%ae%9a%e4%b9%89%e7%9a%84%e5%90%8c%e6%97%b6%e5%88%9d%e5%a7%8b%e5%8c%96)

1）全部初始化

```c
// 定义结构体类型
struct stu {
    int num;
    char name[20];
    char gender;
    float score;
} student = {101, "wangmingdong", 'm', 88.9};
```

注意：

- 初始化值的类型和顺序必须与结构体定义的时候成员的类型和顺序一 致

2）部分初始化

```c
// 定义结构体类型
struct stu {
    int num;
    char name[20];
    char gender;
    float score;
} student = {.name="wangmingdong"};
```

## [2. 先定义结构体变量,然后再初始化](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/8.3struct.init?id=_2-%e5%85%88%e5%ae%9a%e4%b9%89%e7%bb%93%e6%9e%84%e4%bd%93%e5%8f%98%e9%87%8f%e7%84%b6%e5%90%8e%e5%86%8d%e5%88%9d%e5%a7%8b%e5%8c%96)

![[_attachments/Pasted image 20250114143626.png]]

## [3. 注意点](https://doc.itprojects.cn/0004.zhishi.c/0002.doc/index.html#/8.3struct.init?id=_3-%e6%b3%a8%e6%84%8f%e7%82%b9)

1）不能给数组名赋值(数组名是一个常量，不能赋值)

![[_attachments/Pasted image 20250114143631.png]]

说明：

- 数组的名字代表的是一个常量，所以不允许修改

解决办法：

- `strcpy(boy1.name, "wangmingdong");`
- 将`char name[20];`改为 `char *name;`

2）给结构体变量整体赋值(可以整体赋值，但是需要强制类型转换)

![[_attachments/Pasted image 20250114143638.png]]

解决办法：

![[_attachments/Pasted image 20250114143646.png]]

说明:

- 如果不进行强制类型转换，系统无法知道`{}` 是给数组赋值还是给结构体赋值

3）两个相同类型的结构体变量的赋值，相当普通变量的赋值,是整体拷贝，而不是地址赋值

```c
//
// Created by wangmingdong on 2023/6/8.
//
#include "stdio.h"
#include "stdlib.h"
#include "string.h"

// 定义结构体类型
struct stu {
    int num;
    char name[20];
    char gender;
    float score;
};

int main() {

    // 定义结构体变量
    struct stu boy, girl;

    // 给结构体变量boy中的成员赋值
    boy = (struct stu){101, "wangmingdong", 'm', 88.7};
    girl = boy; // 复制boy结构体变量中的所有数据给girl这个结构体变量

    // 修改girl这个结构体变量中的成员的数据
    girl.num = 102;

    // 打印学生的信息
    printf("boy,学号:%d, 姓名：%s, 性别:%c, 分数:%.2f\n", boy.num, boy.name, boy.gender, boy.score);
    printf("girl,学号:%d, 姓名：%s, 性别:%c, 分数:%.2f\n", boy.num, boy.name, boy.gender, boy.score);

    return 0;
}

```

![[_attachments/Pasted image 20250114143656.png]]
